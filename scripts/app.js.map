{"version":3,"sources":["app/app.module.coffee","app/scripts/Contact.Fctr.coffee","app/scripts/Cozysdk.Intf.coffee","app/scripts/Home.Ctrl.coffee"],"names":[],"mappings":"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","file":"scripts/app.js","sourcesContent":["appConfig = ($routeProvider) ->\n    for path of routeObject\n        $routeProvider.when path, routeObject[path]\n    $routeProvider.otherwise redirectTo: '/'\n\nangular.module('browserapp', [\n    'ngResource'\n    'ngRoute'\n]).config appConfig\n\nrouteObject = '/':\n    templateUrl: 'partials/home.html'\n    controller: 'HomeAngCtrl'\n\nappConfig.$inject = [\n    '$routeProvider'\n]","Contact = ($injector) ->\n  \n    CozySdk = $injector.get 'CozySdk'\n\n    \n    {\n\n        send: (docType, data, callback) ->\n            console.log 'send'\n            CozySdk.create docType, data, (res) ->\n                CozySdk.find res._id, (result) ->\n                    callback result\n\n        all: (callback) ->\n            CozySdk.defineRequest 'Contact', 'all', 'function(doc) { emit(doc.n, null); }', (res) ->\n                CozySdk.runRequest 'Contact', 'all', (result) ->\n                    callback result\n    }\n\nangular.module('browserapp').factory 'Contact', Contact\nContact.$inject = ['$injector']\n\n# ---","CozySdk = ($rootScope) ->\n  \n    \n    {\n        create: (docType, data, callback) ->\n            cozysdk.create docType, data, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    $rootScope.$apply ->\n                        callback res\n\n        find: (id, callback) ->\n            cozysdk.find id, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    $rootScope.$apply ->\n                        callback res\n\n        exist: (id, callback) ->\n            cozysdk.exists id, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    $rootScope.$apply ->\n                        callback res\n\n        update: (id, user, callback) ->\n            cozysdk.updateAttributes 'Contact', id, user, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    $rootScope.$apply ->\n                        callback res\n\n        destroy: (id, callback) ->\n            cozysdk.destroy id, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    $rootScope.$apply ->\n                        callback res\n\n        defineRequest: (docType, requestName, defined, callback) ->\n            cozysdk.defineRequest docType, requestName, defined, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    $rootScope.$apply ->\n                        callback res\n\n        destroyRequest: (callback) ->\n            cozysdk.requestDestroy 'Contact', 'all', {startkey: 'z', endkey: 'z'}, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    $rootScope.$apply ->\n                        callback res\n\n        runRequest: (docType, requestName, callback) ->\n            cozysdk.run 'Contact', requestName, {}, (err, res) ->\n                if err?\n                    console.log 'maybe do a cozy special error warning'\n                else\n                    res = JSON.parse \"#{res}\"\n                    $rootScope.$apply ->\n                        callback res\n\n    }\n\nangular.module('browserapp').factory 'CozySdk', CozySdk\nCozySdk.$inject = ['$rootScope']\n\n# ---","HomeAngCtrl = ($injector, $scope) ->\n\n    Contact = $injector.get('Contact');\n    CozySdk = $injector.get 'CozySdk'\n\n    activate = () ->\n        console.log 'activate'\n        Contact.all (res) ->\n            $scope.contacts = res\n\n    send = (user) ->\n        console.log 'send'\n        Contact.send 'Contact', user, (res) ->\n            $scope.contacts = res\n            activate()\n\n    update = (id, user) ->\n        CozySdk.updateAttributes 'Contact', id, user, (res) ->\n            $scope.contacts = res\n            activate()\n\n    destroy = (id) ->\n        console.log 'destroy'\n        console.log id\n        CozySdk.destroy id, (res) ->\n            $scope.contacts = res\n            activate()\n\n    console.log 'activate'\n    activate()\n    $scope.send = send\n    $scope.update = update\n    $scope.destroy = destroy\n\nangular.module('browserapp').controller 'HomeAngCtrl', HomeAngCtrl\nHomeAngCtrl.$inject = [\n    '$injector'\n    '$scope'\n]"]}